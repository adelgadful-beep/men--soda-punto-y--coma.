<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Soda Punto y Coma</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* ESTILOS B√ÅSICOS (NO FALLAN) */
        body {
            font-family: sans-serif;
            background-color: #FAF7F2;
            margin: 0;
            padding-bottom: 80px; /* Espacio para botones de abajo */
            color: #4A3728;
        }

        /* ENCABEZADO */
        .header {
            background: white;
            padding: 15px;
            text-align: center;
            border-bottom: 3px solid #D4A373;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        h1 { margin: 0; color: #8B5E3C; font-size: 22px; font-style: italic; }
        p.sub { margin: 5px 0 0; font-size: 10px; color: #999; font-weight: bold; letter-spacing: 1px; text-transform: uppercase; }

        /* PESTA√ëAS (TABS) */
        .tabs {
            display: flex;
            overflow-x: auto;
            background: white;
            padding: 10px;
            gap: 10px;
            position: sticky;
            top: 73px;
            z-index: 90;
            border-bottom: 1px solid #eee;
        }
        .tab-btn {
            padding: 8px 15px;
            border-radius: 20px;
            border: none;
            background: #eee;
            color: #666;
            font-weight: bold;
            font-size: 12px;
            white-space: nowrap;
        }
        .tab-btn.active {
            background: #8B5E3C;
            color: white;
        }

        /* CONTENEDOR DE PLATOS */
        #app-content {
            padding: 15px;
            max-width: 600px;
            margin: 0 auto;
        }

        /* TARJETA DE PLATO */
        .card {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 15px;
            border: 1px solid #eee;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .card h3 { margin: 0 0 5px; font-size: 15px; color: #333; }
        .card p { margin: 0; font-size: 11px; color: #777; }
        .price { font-size: 16px; font-weight: bold; color: #8B5E3C; display: block; margin-top: 5px; }
        
        .btn-add {
            background: #25D366;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
        }

        /* BARRA INFERIOR */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            border-top: 1px solid #ddd;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            z-index: 200;
        }
        .nav-btn {
            background: none;
            border: none;
            color: #aaa;
            font-size: 10px;
            font-weight: bold;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .nav-btn i { font-size: 20px; margin-bottom: 3px; }
        .nav-btn.active { color: #8B5E3C; }

        /* VISTAS */
        .view { display: none; }
        .view.active { display: block; }
        
        /* PUNTOS */
        .points-box {
            background: linear-gradient(45deg, #8B5E3C, #D4A373);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>Soda Punto y Coma</h1>
        <p class="sub">Gu√°piles ‚Ä¢ Tradici√≥n y Sabor</p>
    </div>

    <div id="main-menu" class="view active">
        <div class="tabs" id="tabs-container">
            </div>
        <div id="app-content">
            <div style="text-align:center; padding:20px; color:#999;">Cargando men√∫...</div>
        </div>
    </div>

    <div id="points-view" class="view">
        <div style="padding: 20px;">
            <h2 style="text-align:center; color:#8B5E3C;">Mis Puntos</h2>
            <div class="points-box">
                <div style="font-size:50px; font-weight:bold;" id="points-display">0</div>
                <div>PUNTOS ACUMULADOS</div>
                <div style="margin-top:10px;">
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                </div>
            </div>
            <p style="text-align:center; font-size:12px; color:#777; margin-top:20px;">
                Muestra esta pantalla al pagar.
            </p>
            <button onclick="addPointDemo()" style="display:block; margin:20px auto; padding:10px; background:#eee; border:none; border-radius:10px;">Simular Punto (Demo)</button>
        </div>
    </div>

    <div id="admin-view" class="view">
        <div style="padding:40px; text-align:center;">
            <i class="fa-solid fa-lock" style="font-size:40px; color:#D4A373;"></i>
            <h2 style="color:#8B5E3C;">Zona Privada</h2>
            <button onclick="enterAdmin()" style="background:#8B5E3C; color:white; padding:10px 20px; border:none; border-radius:20px;">INGRESAR PIN</button>
        </div>
    </div>

    <div class="bottom-nav">
        <button class="nav-btn active" onclick="showView('main-menu', this)">
            <i class="fa-solid fa-utensils"></i> Men√∫
        </button>
        <button class="nav-btn" onclick="showView('points-view', this)">
            <i class="fa-solid fa-star"></i> Puntos
        </button>
        <button class="nav-btn" onclick="showView('admin-view', this)">
            <i class="fa-solid fa-gear"></i> Admin
        </button>
    </div>

    <script>
        // DATOS
        const MENU = {
            "Almuerzos": [
                {n: "Casado Tradicional", p: 3500, d: "Pescado, Carne, Pollo o Chuleta"},
                {n: "Casado con Lengua", p: 3800, d: "Lengua en salsa"},
                {n: "Arroz con Pollo/Cerdo", p: 3500, d: "Con papas y ensalada"},
                {n: "Porci√≥n Sola", p: 1500, d: "Carne, Pollo, Lengua"}
            ],
            "Desayunos": [
                {n: "Pinto Completo", p: 3000, d: "Con Carne, Pollo o Chuleta"},
                {n: "Desayuno Econ√≥mico", p: 2500, d: "Pinto + 2 acompa√±amientos"},
                {n: "Pinto con Huevos", p: 2900, d: "2 Huevos y pan"}
            ],
            "R√°pida": [
                {n: "Hamburguesa + Papas", p: 2500, d: ""},
                {n: "Salchipapas Grandes", p: 2500, d: ""},
                {n: "Fajitas + Papas", p: 2000, d: ""}
            ],
            "Bebidas": [
                {n: "Batidos en Leche", p: 2000, d: "Mora, Fresa, Crema"},
                {n: "Gaseosas", p: 1000, d: "Coca Cola, Fresca"},
                {n: "Caf√© / Aguadulce", p: 700, d: "Negro o con leche"}
            ],
            "Extras": [
                {n: "Empanada Arreglada", p: 1500, d: ""},
                {n: "Empanada Sencilla", p: 1200, d: "Queso, Carne, Pollo"},
                {n: "Adicionales", p: 500, d: "Queso, Huevo, Pl√°tano"}
            ]
        };

        // INICIAR
        window.onload = function() {
            renderTabs();
            renderList("Almuerzos");
            loadPoints();
        };

        function renderTabs() {
            const container = document.getElementById('tabs-container');
            container.innerHTML = "";
            let first = true;
            for(let cat in MENU) {
                let btn = document.createElement('button');
                btn.className = first ? "tab-btn active" : "tab-btn";
                btn.innerText = cat;
                btn.onclick = function() { 
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    renderList(cat);
                };
                container.appendChild(btn);
                first = false;
            }
        }

        function renderList(cat) {
            const list = document.getElementById('app-content');
            list.innerHTML = <h3 style='color:#8B5E3C; margin:10px 0;'>${cat}</h3>;
            
            MENU[cat].forEach(item => {
                let div = document.createElement('div');
                div.className = 'card';
                div.innerHTML = `
                    <div>
                        <h3>${item.n}</h3>
                        <p>${item.d}</p>
                        <span class="price">‚Ç°${item.p.toLocaleString()}</span>
                    </div>
                    <button class="btn-add" onclick="pedir('${item.n}', ${item.p})">+</button>
                `;
                list.appendChild(div);
            });
        }

        function pedir(plato, precio) {
            // Pedido directo y simple para evitar errores
            let msg = *PEDIDO*%0AüçΩÔ∏è ${plato}%0Aüí∞ ‚Ç°${precio};
            window.open(https://wa.me/50689112755?text=${msg});
        }

        // CAMBIAR PANTALLAS (Men√∫ - Puntos - Admin)
        window.showView = function(viewId, btn) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(viewId).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        };

        // PUNTOS SIMPLES
        function loadPoints() {
            try {
                let pts = localStorage.getItem('puntos_soda') || 0;
                document.getElementById('points-display').innerText = pts;
            } catch(e) { console.log("Error puntos"); }
        }

        window.addPointDemo = function() {
            try {
                let p = parseInt(localStorage.getItem('puntos_soda') || 0);
                p++;
                localStorage.setItem('puntos_soda', p);
                loadPoints();
            } catch(e) { alert("No se pueden guardar puntos en este modo."); }
        };

        window.enterAdmin = function() {
            let pin = prompt("PIN:");
            if(pin === "02940") alert("Para cambiar precios:\nEdita el archivo index.html en GitHub.");
            else alert("PIN Incorrecto");
        };
    </script>

</body>
</html>
